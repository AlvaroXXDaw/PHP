DROP TABLE IF EXISTS TENIS_PARTIDOS;
DROP TABLE IF EXISTS TENIS_TORNEOS;
DROP TABLE IF EXISTS TENIS_JUGADORES;
DROP TABLE IF EXISTS TENIS_PAISES;
DROP TABLE IF EXISTS TENIS_FASES;



CREATE TABLE TENIS_PAISES (
PAIS_ID INTEGER NOT NULL AUTO_INCREMENT ,
PAIS VARCHAR( 100 )NOT NULL,
PAIS_SHORT VARCHAR( 100 )NOT NULL,
PRIMARY KEY(PAIS_ID)); 



CREATE TABLE TENIS_TORNEOS (
TORNEO_ID INTEGER NOT NULL AUTO_INCREMENT ,
TORNEO VARCHAR( 100 ) NOT NULL,
FECHA DATE,
PRIMARY KEY(TORNEO_ID));

CREATE TABLE TENIS_FASES (
FASE_ID INTEGER NOT NULL AUTO_INCREMENT ,
FASE VARCHAR( 100 )NOT NULL,
ORDEN INTEGER,
PRIMARY KEY(FASE_ID));

CREATE TABLE TENIS_JUGADORES (
JUGADOR_ID INTEGER NOT NULL AUTO_INCREMENT ,
NOMBRE VARCHAR( 100 )NOT NULL,
PAIS_ID INTEGER,
PRIMARY KEY(JUGADOR_ID),
FOREIGN KEY(PAIS_ID) REFERENCES TENIS_PAISES(PAIS_ID));

CREATE TABLE TENIS_PARTIDOS (
PARTIDO_ID INTEGER NOT NULL AUTO_INCREMENT ,
TORNEO_ID INTEGER NOT NULL , 
JUGADOR1 INTEGER NOT NULL ,
JUGADOR2 INTEGER NOT NULL ,
FASE_ID INTEGER NOT NULL ,
SET11 INTEGER,
SET12 INTEGER,
SET21 INTEGER,
SET22 INTEGER,
SET31 INTEGER,
SET32 INTEGER,
PRIMARY KEY ( PARTIDO_ID ),
FOREIGN KEY ( JUGADOR1 ) REFERENCES TENIS_JUGADORES(JUGADOR_ID),
FOREIGN KEY (JUGADOR2) REFERENCES TENIS_JUGADORES(JUGADOR_ID),  
FOREIGN KEY (JUGADOR2) REFERENCES TENIS_JUGADORES(JUGADOR_ID), 
FOREIGN KEY (FASE_ID) REFERENCES TENIS_FASES(FASE_ID),
FOREIGN KEY(TORNEO_ID) REFERENCES TENIS_TORNEOS(TORNEO_ID));







INSERT INTO `test`.`TENIS_FASES` (FASE_ID,FASE, ORDEN ) VALUES ( 1,'FINAL', 1);
INSERT INTO `test`.`TENIS_FASES` (FASE_ID,FASE, ORDEN ) VALUES ( 2,'SEMIFINAL', 2);
INSERT INTO `test`.`TENIS_FASES` (FASE_ID,FASE, ORDEN ) VALUES ( 3,'CUARTOS DE FINAL', 3);
INSERT INTO `test`.`TENIS_FASES` (FASE_ID,FASE, ORDEN ) VALUES ( 4,'OCTAVOS DE FINAL', 4);
INSERT INTO `test`.`TENIS_FASES` (FASE_ID,FASE, ORDEN ) VALUES ( 5,'SEGUNDA RONDA', 5);
INSERT INTO `test`.`TENIS_FASES` (FASE_ID,FASE, ORDEN ) VALUES ( 6,'PRIMERA RONDA', 6);


INSERT INTO `test`.`TENIS_PAISES` (PAIS_ID,PAIS, PAIS_SHORT) VALUES ( 1,'ESPAÃ‘A', 'ESP');
INSERT INTO `test`.`TENIS_PAISES` (PAIS_ID,PAIS, PAIS_SHORT) VALUES ( 2,'EEUU', 'USA');
INSERT INTO `test`.`TENIS_PAISES` (PAIS_ID,PAIS, PAIS_SHORT) VALUES ( 3,'RUSIA', 'RUS');
INSERT INTO `test`.`TENIS_PAISES` (PAIS_ID,PAIS, PAIS_SHORT) VALUES ( 4,'SUIZA', 'SUI');
INSERT INTO `test`.`TENIS_PAISES` (PAIS_ID,PAIS, PAIS_SHORT) VALUES ( 5,'INGLATERRA', 'ING');
INSERT INTO `test`.`TENIS_PAISES` (PAIS_ID,PAIS, PAIS_SHORT) VALUES ( 6,'SERBIA', 'SRB');

INSERT INTO `test`.`TENIS_JUGADORES` (JUGADOR_ID,NOMBRE, PAIS_ID ) VALUES ( 1,'RAFAEL NADAL', 1);
INSERT INTO `test`.`TENIS_JUGADORES` (JUGADOR_ID,NOMBRE, PAIS_ID ) VALUES ( 2,'TIAFOE', 2);
INSERT INTO `test`.`TENIS_JUGADORES` (JUGADOR_ID,NOMBRE, PAIS_ID ) VALUES ( 3,'MENDELEV', 3);
INSERT INTO `test`.`TENIS_JUGADORES` (JUGADOR_ID,NOMBRE, PAIS_ID ) VALUES ( 4,'FEDERER', 4);
INSERT INTO `test`.`TENIS_JUGADORES` (JUGADOR_ID,NOMBRE, PAIS_ID ) VALUES ( 5,'WABRINCA', 4);
INSERT INTO `test`.`TENIS_JUGADORES` (JUGADOR_ID,NOMBRE, PAIS_ID ) VALUES ( 6,'ALMAGRO', 1);
INSERT INTO `test`.`TENIS_JUGADORES` (JUGADOR_ID,NOMBRE, PAIS_ID ) VALUES ( 7,'MURRAY', 5);
INSERT INTO `test`.`TENIS_JUGADORES` (JUGADOR_ID,NOMBRE, PAIS_ID ) VALUES ( 8,'DJOKOVIC', 6);


INSERT INTO `test`.`TENIS_TORNEOS` (TORNEO_ID,`TORNEO`, FECHA) VALUES ( 1,  'MIAMI', "2019-02-01");
INSERT INTO `test`.`TENIS_TORNEOS` (TORNEO_ID,`TORNEO`, FECHA) VALUES ( 2,  'ACAPULCO', "2019-03-01");


INSERT INTO `test`.`TENIS_PARTIDOS` (PARTIDO_ID, TORNEO_ID, JUGADOR1, JUGADOR2, SET11, SET12, SET21, SET22, FASE_ID ) VALUES 
( 1, 1, 1, 2, 6, 0, 6, 0 , 3); 
INSERT INTO `test`.`TENIS_PARTIDOS` (PARTIDO_ID, TORNEO_ID, JUGADOR1, JUGADOR2, SET11, SET12, SET21, SET22, FASE_ID ) VALUES 
( 2, 1, 3, 4, 6, 0, 6, 0 , 3);
INSERT INTO `test`.`TENIS_PARTIDOS` (PARTIDO_ID, TORNEO_ID, JUGADOR1, JUGADOR2, SET11, SET12, SET21, SET22, FASE_ID ) VALUES 
( 3, 1, 5, 6, 6, 0, 6, 0 , 3);
INSERT INTO `test`.`TENIS_PARTIDOS` (PARTIDO_ID, TORNEO_ID, JUGADOR1, JUGADOR2, SET11, SET12, SET21, SET22, FASE_ID ) VALUES 
( 4, 1, 7, 8, 6, 0, 6, 0 , 3);

INSERT INTO `test`.`TENIS_PARTIDOS` (PARTIDO_ID, TORNEO_ID, JUGADOR1, JUGADOR2, SET11, SET12, SET21, SET22, FASE_ID ) VALUES 
( 5, 1, 1, 3, 6, 0, 6, 0 , 2); 
INSERT INTO `test`.`TENIS_PARTIDOS` (PARTIDO_ID, TORNEO_ID, JUGADOR1, JUGADOR2, SET11, SET12, SET21, SET22, FASE_ID ) VALUES 
(6, 1, 5, 7, 0, 6, 0, 6 , 2);
INSERT INTO `test`.`TENIS_PARTIDOS` (PARTIDO_ID, TORNEO_ID, JUGADOR1, JUGADOR2, SET11, SET12, SET21, SET22,SET31, SET32, FASE_ID ) VALUES 
( 7,1, 1, 7, 6, 0, 0, 6 ,0, 6 , 1);

INSERT INTO `test`.`TENIS_PARTIDOS` (PARTIDO_ID, TORNEO_ID, JUGADOR1, JUGADOR2, SET11, SET12, SET21, SET22, FASE_ID ) VALUES 
( 51, 2, 1, 2, 6, 0, 6, 0 , 3); 
INSERT INTO `test`.`TENIS_PARTIDOS` (PARTIDO_ID, TORNEO_ID, JUGADOR1, JUGADOR2, SET11, SET12, SET21, SET22, FASE_ID ) VALUES 
( 52, 2, 3, 4, 6, 0, 6, 0 , 3);
INSERT INTO `test`.`TENIS_PARTIDOS` (PARTIDO_ID, TORNEO_ID, JUGADOR1, JUGADOR2, SET11, SET12, SET21, SET22, FASE_ID ) VALUES 
( 53, 2, 5, 6, 6, 0, 6, 0 , 3);
INSERT INTO `test`.`TENIS_PARTIDOS` (PARTIDO_ID, TORNEO_ID, JUGADOR1, JUGADOR2, SET11, SET12, SET21, SET22, FASE_ID ) VALUES 
( 54, 2, 7, 8, 6, 0, 6, 0 , 3);

INSERT INTO `test`.`TENIS_PARTIDOS` (PARTIDO_ID, TORNEO_ID, JUGADOR1, JUGADOR2, SET11, SET12, SET21, SET22, FASE_ID ) VALUES 
( 55, 2, 1, 3, 6, 0, 6, 0 , 2); 
INSERT INTO `test`.`TENIS_PARTIDOS` (PARTIDO_ID, TORNEO_ID, JUGADOR1, JUGADOR2, SET11, SET12, SET21, SET22, FASE_ID ) VALUES 
( 56, 2, 5, 7, 6, 0, 6, 0 , 2);
INSERT INTO `test`.`TENIS_PARTIDOS` (PARTIDO_ID, TORNEO_ID, JUGADOR1, JUGADOR2, SET11, SET12, SET21, SET22,SET31, SET32, FASE_ID ) VALUES 
( 57, 2, 1, 5, 6, 0, 0, 6 ,0, 6 , 1);



